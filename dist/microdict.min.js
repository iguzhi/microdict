!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.microdict=e()}(this,function(){"use strict";var t=function(){var t=arguments;this.version="0.0.3",this.valueIndex={},this.aliasIndex={},this.textIndex={},this.index={};for(var e=0;e<arguments.length;e++){var r=t[e];null==r.value&&(r.value=e),this.index[r.value]=e,this.addElement(r)}};return t.prototype.addElement=function(t){if(this.hasOwnProperty(t.value))throw new Error("Already defined an element with value"+t.value+" in this dict type");if(this.hasOwnProperty(t.alias))throw new Error('Already defined an element with alias "'+t.alias+'" in this dict type');this[t.value]=t.alias,this[t.alias]=t.value,this.valueIndex[t.value]=t,this.aliasIndex[t.alias]=t,this.textIndex[t.text]=t},t.prototype.fromValue=function(t){return this.valueIndex[t]},t.prototype.fromAlias=function(t){return this.aliasIndex[t]},t.prototype.fromText=function(t){return this.textIndex[t]},t.prototype.getTextFromValue=function(t){return(this.fromValue(t)||{}).text},t.prototype.getTextFromAlias=function(t){return(this.fromAlias(t)||{}).text},t.prototype.getValueFromAlias=function(t){return(this.fromAlias(t)||{}).value},t.prototype.getValueFromText=function(t){return(this.fromText(t)||{}).value},t.prototype.getAliasFromValue=function(t){return(this.fromValue(t)||{}).alias},t.prototype.getAliasFromText=function(t){return(this.fromText(t)||{}).alias},t.prototype.toArray=function(){var t=arguments,e=this,r=[];if(arguments.length>0)for(var n=0;n<arguments.length;n++){var i=t[n];"string"==typeof i?r.push(this.fromAlias(i)):r.push(i)}else{for(var o in this.valueIndex)this.valueIndex[o]&&r.push(this.valueIndex[o]);r.sort(function(t,r){return e.index[t.value]>e.index[r.value]?1:-1})}return r},t.prototype.toSelectionObject=function(){return this.toArray().reduce(function(t,e){return t[e.value]=e.text,t},{})},t.prototype.toCheckboxArray=function(t){var e=[];return t&&(e=[{text:"全部",value:-1}]),(e=e.concat(this.toArray())).map(function(t){return{label:t.text,value:t.value,key:t.alias}})},t});
